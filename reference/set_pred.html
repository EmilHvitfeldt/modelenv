<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Register Prediction Method for Model — set_pred • modelenv</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Register Prediction Method for Model — set_pred"><meta property="og:description" content="This function is used to register prediction method information for a model,
mode, and engine combination."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">modelenv</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/EmilHvitfeldt/modelenv/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Register Prediction Method for Model</h1>
    <small class="dont-index">Source: <a href="https://github.com/EmilHvitfeldt/modelenv/blob/HEAD/R/set_pred.R" class="external-link"><code>R/set_pred.R</code></a></small>
    <div class="hidden name"><code>set_pred.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is used to register prediction method information for a model,
mode, and engine combination.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_pred</span><span class="op">(</span><span class="va">model</span>, <span class="va">mode</span>, <span class="va">eng</span>, <span class="va">type</span>, <span class="va">value</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_pred_type</span><span class="op">(</span><span class="va">model</span>, <span class="va">type</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>model</dt>
<dd><p>A single character string for the model type (e.g. <code>"k_means"</code>,
etc).</p></dd>


<dt>mode</dt>
<dd><p>A single character string for the model mode (e.g. "partition").</p></dd>


<dt>eng</dt>
<dd><p>A single character string for the model engine.</p></dd>


<dt>type</dt>
<dd><p>A single character value for the type of prediction. Possible
values are: <code>cluster</code> and <code>raw</code>.</p></dd>


<dt>value</dt>
<dd><p>A list of values, described in the Details.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The list passed to <code>value</code> needs the following values:</p><ul><li><p><strong>pre</strong> and <strong>post</strong> are optional functions that can preprocess the data
being fed to the prediction code and to postprocess the raw output of the
predictions. These won’t be needed for this example, but a section below
has examples of how these can be used when the model code is not easy to
use. If the data being predicted has a simple type requirement, you can
avoid using a <strong>pre</strong> function with the <strong>args</strong> below.</p></li>
<li><p><strong>func</strong> is the prediction function (in the same format as above). In many
cases, packages have a predict method for their model’s class but this is
typically not exported. In this case (and the example below), it is simple
enough to make a generic call to <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> with no associated package.</p></li>
<li><p><strong>args</strong> is a list of arguments to pass to the prediction function. These
will most likely be wrapped in <code><a href="https://rlang.r-lib.org/reference/expr.html" class="external-link">rlang::expr()</a></code> so that they are not
evaluated when defining the method. For mda, the code would be
<code>predict(object, newdata, type = "class")</code>. What is actually given to the
function is the model fit object, which includes a sub-object
called <code>fit()</code> that houses the mda model object. If the data need to be a
matrix or data frame, you could also use
<code>newdata = quote(as.data.frame(newdata))</code> or similar.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="set_new_model.html">set_new_model</a></span><span class="op">(</span><span class="st">"shallow_learning_model"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="set_model_mode.html">set_model_mode</a></span><span class="op">(</span><span class="st">"shallow_learning_model"</span>, <span class="st">"partition"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="set_model_engine.html">set_model_engine</a></span><span class="op">(</span><span class="st">"shallow_learning_model"</span>, <span class="st">"partition"</span>, <span class="st">"stats"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">set_pred</span><span class="op">(</span></span></span>
<span class="r-in"><span>  model <span class="op">=</span> <span class="st">"shallow_learning_model"</span>,</span></span>
<span class="r-in"><span>  eng <span class="op">=</span> <span class="st">"stats"</span>,</span></span>
<span class="r-in"><span>  mode <span class="op">=</span> <span class="st">"partition"</span>,</span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">"cluster"</span>,</span></span>
<span class="r-in"><span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    pre <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>    post <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>    func <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="st">"predict"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    args <span class="op">=</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        object <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/expr.html" class="external-link">expr</a></span><span class="op">(</span><span class="va">object</span><span class="op">$</span><span class="va">fit</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        newdata <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/expr.html" class="external-link">expr</a></span><span class="op">(</span><span class="va">new_data</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        type <span class="op">=</span> <span class="st">"response"</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_pred_type</span><span class="op">(</span><span class="st">"shallow_learning_model"</span>, <span class="st">"cluster"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_pred_type</span><span class="op">(</span><span class="st">"shallow_learning_model"</span>, <span class="st">"cluster"</span><span class="op">)</span><span class="op">$</span><span class="va">value</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Emil Hvitfeldt.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

